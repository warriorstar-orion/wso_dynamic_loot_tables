; dynamic_loot_tables - GAMMA 0.9.4
;
; Dynamic loot tables can contain items as well as other loot tables. Items in
; tables are selected by weighted pick.
;
; The advantage of nested loot tables is that it makes it easier for 'kinds' of
; loot to be abstracted out to a single weight, making it so that if you have a
; lot of potential items of one type to spawn, the number of items doesn't bias
; the overall spawn rate. That is, just because you have more junk than anything
; else, doesn't mean junk should be more likely to spawn. It should only be more
; likely to spawn if its loot table has a higher weight than the alternatives.
;
; There is no correctness checking for loot tables that refer to themselves or
; create a cycle between multiple tables referring to each other. Be careful not
; to cause infinite loops.

; TODO(wso): split weapon/armor parts into tiers
; TODO(wso): per-level tables? per-faction tables? per-faction base tables?
; TODO(wso): add more stuff - scrap metal, other foods, etc?
; TODO(wso): can add old ammo back not in without it scuffing up the loot distribution
; TODO(wso): move condition/uses ranges into config

; MARK: Item Tables

[loot_table_water]
flask = 9
water_drink = 9
mineral_water = 2

[loot_table_alcohol]
beer = 5
bottle_metal = 4
vodka = 2
vodka2 = 2
vodka_quality = 1

[loot_table_glowstick]
device_glowstick = 1
device_glowstick_blue = 1
device_glowstick_orange = 1
device_glowstick_red = 1

[loot_table_preserved_food]
beans = 1
chili = 1
corn = 1
tomato = 1
tushonka = 1
nuts = 1
protein = 1
kolbasa = 1
sausage = 1
chocolate_p = 1

[loot_table_tobacco]
cigar1 = 1
cigar2 = 1
cigar3 = 1
cigarettes_russian = 1

[loot_table_medical]
bandage = 4
drug_coagulant = 3
yadylin = 3
antibio_chlor = 2
jgut = 2
medkit = 2
akvatab = 2
drug_antidot = 2
drug_radioprotector = 2
antiemetic = 1
antirad_kalium = 1
drug_booster = 1
drug_psy_blockade = 1
antirad_cystamine = 1
antibio_sulfad = 1
caffeine = 1

[loot_table_components]
e_syringe = 5
batteries_dead = 5
prt_i_plastic = 5
jar = 5
leatherman_tool = 4
grooming = 4
ball_hammer = 4
rope = 3
box_matches = 3
beadspread = 2
duct_tape = 2
swiss_knife = 2
loot_table_glowstick = 1
explo_balon_gas = 1
tarpaulin = 2

[loot_table_repair]
steel_wool = 5
sewing_thread = 5
grease = 4
rasp_tool = 3
ramrod_tool = 3
heavy_sewing_thread = 3

[loot_table_broken_radio]
radio2 = 3
radio = 2

[loot_table_junk]
loot_table_broken_radio = 1
headlamp = 1
broken_detector = 1
walkie = 1
boots = 1
flashlight_broken = 1
welding_goggles = 1

[loot_table_valuables]
hand_watch = 2
cards = 2
jewelry_box = 1

[loot_table_kit]
loot_table_junk = 12
loot_table_medical = 7
loot_table_alcohol = 6
loot_table_valuables = 6
energy_drink = 3
flask = 3
itm_ammokit = 1
itm_drugkit = 1

[loot_table_armor_parts]
prt_o_retardant_5 = 6
prt_o_ballistic_19 = 6
prt_o_ballistic_13 = 5
prt_o_ballistic_20 = 5
prt_o_ballistic_9 = 4
prt_o_ballistic_15 = 4
prt_o_ballistic_16 = 4
prt_o_ballistic_18 = 4
prt_o_ballistic_5 = 3
prt_o_fabrics_1 = 3
prt_o_fabrics_2 = 3
prt_o_fabrics_3 = 3
prt_o_fabrics_4 = 3
prt_o_retardant_1 = 1
prt_o_retardant_2 = 1
prt_o_retardant_3 = 1
prt_o_retardant_4 = 1
prt_o_retardant_6 = 1
prt_o_retardant_7 = 1
prt_o_retardant_8 = 1
prt_o_retardant_9 = 1
prt_o_retardant_10 = 1
prt_o_retardant_11 = 1
prt_o_retardant_12 = 1
prt_o_retardant_13 = 1
prt_o_retardant_14 = 1
prt_o_retardant_15 = 1
prt_o_retardant_16 = 1
prt_o_retardant_17 = 1
prt_o_retardant_18 = 1
prt_o_retardant_19 = 1
prt_o_retardant_20 = 1
prt_o_ballistic_1 = 1
prt_o_ballistic_2 = 1
prt_o_ballistic_3 = 1
prt_o_ballistic_4 = 1
prt_o_ballistic_6 = 1
prt_o_ballistic_7 = 1
prt_o_ballistic_8 = 1
prt_o_ballistic_10 = 1
prt_o_ballistic_11 = 1
prt_o_ballistic_12 = 1
prt_o_ballistic_14 = 1
prt_o_ballistic_17 = 1

[loot_table_weapon_parts]
prt_w_p_barrel_1 = 1
prt_w_p_barrel_2 = 1
prt_w_p_barrel_3 = 1
prt_w_p_barrel_6 = 1
prt_w_barrel_3 = 1
prt_w_barrel_4 = 1
prt_w_barrel_7 = 1
prt_w_barrel_8 = 1
prt_w_barrel_9 = 1
prt_w_barrel_11 = 1
prt_w_bolt_carrier_1 = 1
prt_w_bolt_carrier_2 = 1
prt_w_bolt_carrier_3 = 1
prt_w_bolt_carrier_4 = 1
prt_w_bolt_carrier_5 = 1
prt_w_bolt_carrier_7 = 1
prt_w_bolt_carrier_11 = 1
prt_w_trigger_components_1 = 1
prt_w_trigger_components_2 = 1
prt_w_trigger_components_3 = 1
prt_w_trigger_components_4 = 1
prt_w_trigger_components_5 = 1
prt_w_bolt_1 = 1
prt_w_bolt_3 = 1
prt_w_bolt_4 = 1
prt_w_bolt_6 = 1
prt_w_bolt_8 = 1
prt_w_bolt_9 = 1
prt_w_gas_tube_1 = 1
prt_w_gas_tube_2 = 1
prt_w_gas_tube_4 = 1
prt_w_gas_tube_5 = 1
prt_w_gas_tube_6 = 1
prt_w_gas_tube_8 = 1

[loot_table_ammo_parts]
powder_1 = 3
powder_2 = 2
bullet_pistol = 2
bullet_shotgun = 2
bullet_r5 = 2
bullet_r7 = 2
bullet_pistol_ap = 2
bullet_shotgun_ap = 2
bullet_r5_ap = 2
casing_r5 = 2
casing_r7 = 2
casing_p = 2
casing_s = 2
powder_3 = 1
bullet_r7_ap = 1
explo_metalcan_powder = 1

; MARK: Ammo Tables

; Tables based off the WP/NATO faction trader levels:
; (https://stalker-anomaly-gamma.fandom.com/wiki/Weapons_%26_Ammo)
;
; Grouping items by trader level works as pseudo-rarity ratings and makes it
; easier to add them into more specialized loot tables (e.g. if you wanted
; freedom/duty specific spawn expectations)
;
; Maybe this is overboard, maybe not, but serves as a useful example for the
; kind of complexity dynamic loot tables can support.

[loot_table_ammo_uni_lvl1] ; universal, shared by both trader platforms
ammo_20x70_buck = 4
ammo_12x70_buck = 3
ammo_7.62x25_ps = 3
ammo_9x18_ap = 3
ammo_11.43x23_fmj = 2
ammo_9x19_pbp = 2
ammo_9x18_fmj = 2
ammo_11.43x23_hydro = 1
ammo_7.62x25_p = 1
ammo_9x19_fmj = 1
ammo_9x18_pmm = 1

[loot_table_ammo_uni_lvl2]
ammo_357_hp_mag = 3
ammo_12x76_zhekan = 2
ammo_7.62x39_ap = 1

[loot_table_ammo_wp_lvl1]
ammo_7.62x39_fmj = 3
7.62x54_7h1 = 1

[loot_table_ammo_wp_lvl2]
ammo_23x75_shrapnel = 3
ammo_5.45x39_fmj = 3
ammo_9x39_pab9 = 3
ammo_9x19_ap = 1
ammo_12.7x55_fmj = 1

[loot_table_ammo_wp_lvl3]
ammo_9x21_sp10 = 3
ammo_5.45x39_ep = 1

[loot_table_ammo_wp_lvl4]
; ammo_pkm_100 = ? ; not in original gamma table
ammo_5.45x39_ap = 2
7.62x54_7h14 = 1

[loot_table_ammo_wp_lvl5]
; ammo_12.7x55_ap = ? ; not in original gamma table
ammo_23x75_barrikada = 1

[loot_table_ammo_wp]
loot_table_ammo_uni_lvl1 = 5
loot_table_ammo_wp_lvl1 = 5
loot_table_ammo_wp_lvl2 = 4
loot_table_ammo_wp_lvl3 = 3
loot_table_ammo_wp_lvl4 = 2
loot_table_ammo_wp_lvl5 = 1

[loot_table_ammo_nato_lvl1]
; ammo_5.7x28_ss195 = ? ; not in original gamma table
ammo_9x19_ap = 1

[loot_table_ammo_nato_lvl2]
ammo_5.56x45_fmj = 1
ammo_5.7x28_ss190 = 1

[loot_table_ammo_nato_lvl3]
; ammo_7.62x51_fmj = ? ; not in original gamma table
ammo_5.56x45_ss190 = 1

[loot_table_ammo_nato_lvl4]
; ammo_12x76_bull = ? ; not in original gamma table
ammo_5.56x45_ap = 2
ammo_12x76_dart = 1

[loot_table_ammo_nato_lvl5]
; ammo_7.62x54_ap = ? ; not in original gamma table
ammo_9x39_ap = 2

[loot_table_ammo_nato]
loot_table_ammo_uni_lvl1 = 5
loot_table_ammo_nato_lvl1 = 5
loot_table_ammo_nato_lvl2 = 4
loot_table_ammo_nato_lvl3 = 3
loot_table_ammo_nato_lvl4 = 2
loot_table_ammo_nato_lvl5 = 1

[loot_table_ammo_rounds]
loot_table_ammo_wp = 3
loot_table_ammo_nato = 2

; MARK: Category Tables

[loot_table_comestibles]
loot_table_preserved_food = 10
loot_table_alcohol = 2
loot_table_water = 1

[loot_table_generic]
; this is a rough approximation of what the items in the old "misc" loot
; category would be if you just added them up and bucketed them into the new
; tables. but now you can tune these separately from their contents.
loot_table_armor_parts = 85
loot_table_components = 60
loot_table_weapon_parts = 35
loot_table_junk = 30
loot_table_ammo_parts = 30
loot_table_repair = 25
loot_table_medical = 9
loot_table_valuables = 8
loot_table_alcohol = 7
loot_table_tobacco = 5
loot_table_preserved_food = 2
loot_table_water = 2

[loot_table_ammo]
loot_table_ammo_parts = 3
loot_table_ammo_rounds = 2